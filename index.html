<!DOCTYPE html>
    <head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title></title>
        <link href="./style/style.css" rel="stylesheet" /> 
        <link href="./style/fonts.css" rel="stylesheet" />  
  </head>

    <body>        
        <div class="container"> 
            <div class="container-grid">
               
                <main onClick="triggerClick()"  class="border-lightgreen">  
                    <h4>AMZ CI</h4>
                    <div id="main-content" >  
                        <p style="display: none;" > 
                            <input type='file' id="input-file-1"  onChange="displayImage(this)"/> 
                        </p> 
                        <div class="image-card append-image-main"> 
                            <!-- <img id="img-section"  style="margin-top: 30px; " src="./uploads/placeholder.png" />  -->
                        </div>
                    </div> 
                </main>

                <div id="sidebar" onClick="triggerClickSidebar()" class="border-lightgreen" >
                    <h4>FREIGHT</h4> 
                    <!-- <span>Rotate image to -90 degree</span> -->
                    <div id="sidebar-content"> 
                        <p style="display: none;" >                    
                            <input type='file' id="input-file-2" onChange="displayImageSidebar(this)"/> 
                        </p>  
                        <div class="image-card image-card-rotate append-image-sidebar"> 
                            <!-- <img id="img-sidebar"  src="./uploads/placeholder.png" />  -->
                        </div>
                    </div> 
                </div>

                
                <!-- <div id="content" class=""> 
                    <div class="sub-content"  >  
                
                        <span>
                            <b> 
                                RETURN AUTHORAZTION SLIP 
                            </b>
                        </span>
                        <br>
                        <span>Please cut and place the barcode and description below and place inside your Return package (in case your mailing label gets damaged)</span>
                    </div>
                 </div> -->


                 

                <div id="content1" onClick="triggerClickContent1()" class="border-lightgreen"> 
                    <h4>AMZ Rma</h4>
                    <div id="sub-content1">       
                        <p style="display: none;" >        
                            <input type='file' id="input-file-3" onChange="displayImageContent1(this)"/> 
                        </p>  
                        <div class="image-content1-card append-image-content1"> 
                            <!-- <img id="img-content1"  src="./uploads/placeholder.png"  />  -->
                        </div>
                    </div> 
                </div>


                <div id="content2"  onClick="triggerClickContent2()" class="border-lightgreen">
                    <h4>ITEM Desc.</h4>
                    <div id="sub-content2"> 
                        <p style="display: none;" >   
                            <input type='file' id="input-file-4" onChange="displayImageContent2(this)"/> 
                        </p>     
                        <div class="image-content2-card append-image-content2">  
                            <!-- <img id="img-content2"  src="./uploads/placeholder.png" /> -->
                        
                        </div>
                    </div> 
                </div>




            </div>
            
        <div class="alert-left"> 
            <a class="alert alert-primary" id="btn-Convert-Html2Image" href="#">Export</a>
           <a class="alert alert-success" id="btn-Preview-Image">Preview</a>
       </div> 
       
       <div id="previewImage">
    </div>
        </div>

 
        <script src="./js/jquery-3.5.0.js"></script>
        <script src="./js/jspdf.debug.js"></script>
        <script src="./js/html2canvas.js"></script> 
        <script> 
 
            //Main 
            $("#img-section").hide();
            function triggerClick(){
             document.querySelector('#input-file-1').click();
           
            }
            function displayImage(e){
                if(e.files[0]){ 
                    $("#img-section").show();
                    $("main > h4").hide();
                    $("main").removeClass('border-lightgreen');
                    $("main").addClass("border-dotted");
                    var reader = new FileReader(); 
                    reader.onload = function(e){ 
                        //document.querySelector('#main-content').style.backgroundImage = "url('"+ e.target.result+"')";
                        var name=document.querySelector(".append-image-main"); 
                        name.appendChild(document.createElement('img')).src= e.target.result;
                } 
                reader.readAsDataURL(e.files[0]);  
                }
            } 
            //Side Bar Section
            
            $("#img-sidebar").hide();
            function triggerClickSidebar(){ 
             document.querySelector('#input-file-2').click();
            }
            function displayImageSidebar(e){
                if(e.files[0]){ 
                    $("#img-sidebar").show(); 
                    $("#sidebar > h4, #sidebar > span").hide();
                    $("#sidebar").addClass("border-dotted");
                    $("#sidebar").removeClass('border-lightgreen');
                    var reader = new FileReader(); 
                    reader.onload = function(e){
                         document.querySelector('#sidebar').style.backgroundImage = "url('"+ e.target.result+"')";
                  

                        // var name=document.querySelector(".append-image-sidebar"); 
                        // name.appendChild(document.createElement('img')).src= e.target.result;



                }
                reader.readAsDataURL(e.files[0]); 
                }
            }  
            //Conten1
            
            $("#img-content1").hide();
            function triggerClickContent1(){ 
             document.querySelector('#input-file-3').click();
            }
            function displayImageContent1(e){
                if(e.files[0]){ 
                    $("#img-content1").show();
                    $("#content1 > h4").hide();
                    $("#content1").removeClass('border-lightgreen'); 
                    $("#content1").addClass("border-dotted");
                    var reader = new FileReader(); 
                    reader.onload = function(e){
                     //document.querySelector('#content1').style.backgroundImage = "url('"+ e.target.result+"')";
                   
                     var name=document.querySelector(".append-image-content1");

                    // name.appendChild(document.createTextNode('pizza'));
                                        
                    // name.appendChild(document.createElement('div')).textContent='spaghetti';
                     name.appendChild(document.createElement('img')).src= e.target.result;



                //    document.querySelector('#img-content1').setAttribute('src', e.target.result);
                }
                reader.readAsDataURL(e.files[0]); 
                }
            }  

            //Conten2
            $("#img-content2").hide(); 
            function triggerClickContent2(){ 
             document.querySelector('#input-file-4').click();
            }

            function displayImageContent2(e){
                if(e.files[0]){ 
                    $("#img-content2").show();  
                    $("#content2 > h4").hide();
                    $("#content2").removeClass('border-lightgreen');
                    $("#content2").addClass("border-dotted");
                    var reader = new FileReader(); 
                    reader.onload = function(e){
                      //  document.querySelector('#content2').style.backgroundImage = "url('"+ e.target.result+"')";
     
                    var name=document.querySelector(".append-image-content2"); 
                    name.appendChild(document.createElement('img')).src= e.target.result;

                }
                reader.readAsDataURL(e.files[0]); 
                }
            }  
 

        var element = $(".container-grid"); // global variable

        var getCanvas; // global variable
        $("#btn-Preview-Image").on('click', function () {
        html2canvas(element, {
        onrendered: function (canvas) { 
                    $("#previewImage").append(canvas); 
                    getCanvas = canvas;
                }
            });
        });

        $("#btn-Convert-Html2Image").on('click', function () {  
            var imgageData = getCanvas.toDataURL('image/png', 1.0);
            // Now browser starts downloading it instead of just showing it
            var newData = imgageData.replace(/^data:image\/png/, "data:application/octet-stream");
            $("#btn-Convert-Html2Image").attr("download", "Amazon-Collage.png").attr("href", newData);
        });

 
        </script>
 
    </body>

</html>